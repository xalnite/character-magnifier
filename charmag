#!/usr/bin/python3
# character magnifier

import flet as ft


class CharTabs(ft.Tabs):
    def __init__(self):
        super().__init__(self)
        self.animation_duration = 300
        self.tabs = []
        self.expand = 1

    def set_text(self, text: str):
        tabs: list[ft.Tab] = []
        for s in text if text is not None and len(text) else "":
            tabs.append(
                ft.Tab(
                    text=s,
                    content=ft.Container(
                        content=ft.Text(s, size=288), alignment=ft.alignment.center
                    ),
                )
            )
        self.tabs = tabs
        self.selected_index = 0
        self.update()


def main(page: ft.Page):
    page.title = "character magnifier"
    tf: ft.TextField = ft.TextField(label="target text")
    ct: CharTabs = CharTabs()
    tf.on_submit = lambda e: ct.set_text(tf.value)
    page.add(tf, ct)


ft.app(main)
